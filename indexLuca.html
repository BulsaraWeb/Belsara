<!--;DOCTYPE; HTML>-->
<html>
	<head>
		<title>Bulsara</title>
		<meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
		<link type="text/css" rel="stylesheet" href="style.css" />
		<script src="http://code.jquery.com/jquery-latest.min.js"></script>
		<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min.js"></script>

		<script>

$(document).ready(function() {

					var scrWidth=$(document).width();
					var scrHeight=$(document).height();
					var h=100;
					var w=$(document).width()/4;
					var top=-12;
					var right=0;
					var bottom=0;
					var left=-12;
					var winit,wend,tinit,tend,hinit,hend,linit,lend,binit,bend,rinit,rend;
					
					
					function interpolate(index,frame,winit,hinit,tinit,rinit,binit,linit,
									   wend,hend,tend,rend,bend,lend)
				            {
				             var alpha=(frame+1)/40.0;
				             $("#vetrina"+index).width(winit + alpha*(wend-winit))
				                          .height(hinit + alpha*(hinit-hend))
				                          .css("top",tinit+alpha*(tinit-tend))
				     			          .css("right",rinit+alpha*(rinit-rend))
				     			          .css("margin-bottom",binit+alpha*(binit-bend))
				     			          .css("left",binit+alpha*(linit-lend));
				     
				     		if(frame<=40)
				        	   setTimeout(function(){interpolate(index,frame+1,winit,hinit,tinit,rinit,binit,linit,
									                              wend,hend,tend,rend,bend,lend);},5);
				           }
				
				    for(var i=0; i<8; i+=1)
				      {
				   	   winit=$("#vetrina"+i).width();
					   hinit=$("#vetrina"+i).height();
				       tinit=$("#vetrina"+i).css("top");
				       rinit=$("#vetrina"+i).css("right");
				       binit=$("#vetrina"+i).css("bottom");
				       linit=$("#vetrina"+i).css("left");
				    
				       wend=$("#gallery").width();
				   	   hend=$("#gallery").height();
				       tend=$("#gallery").css("top");
				       rend=$("#gallery").css("right");
				       bend=$("#gallery").css("bottom");
				       lend=$("#gallery").css("left");
					   $("#vetrina"+i).click(function(){
													    interpolate(i,0, winit,hinit,tinit,rinit,binit,linit,
									                                     wend,hend,tend,rend,bend,lend);
												       });
					
				      }
					
					// --------------------------------------------------------------------------------
					// --------------------------------------------------------------------------------
					// --------------------------------------------------------------------------------
					
					var zommed=false;
					
		$(".thumbVetrina").click(function(){

									var vetrina_corrente=$(this);
									var vetrina_corrente_l=$(this).position().left;
									
									var vetrina_corrente_r=$(this).position().right;
									
									var vetrina_corrente_t=$(this).position().top;
									
									

					if(!zommed)
					{
						$(".thumbVetrina ").each(function()
									{
									
									//cancello tuttle le thumb tranne quella che ho cliccato
									if($(this).attr("id")!=vetrina_corrente.attr("id"))
									
									$(this).animate({"display":"none"});
															
									});
						
						vetrina_corrente.animate({'height':scrHeight/8,'width':scrWidth,'top':vetrina_corrente_t,'right':vetrina_corrente_r,'left':vetrina_corrente_l},200,'swing',
						function(){
									//cancella le thumb
									$(".thumbVetrina ").each(function(){
									if($(this).attr("id")!=vetrina_corrente.attr("id"))
									$(this).css("display","none");
								   });
						
								  }  //function
												);//animate
												
						
						zommed=true;
					}
					
					else // se l'immagine Ã¨ ingrandita
					{
					//rimpicciolisco l'immagine
					vetrina_corrente.animate({'width':scrWidth/4,'height':250},200,'swing',
					function(){
					//
								$(".thumbVetrina ").each(function(){$(this).css("display","inline");});
					
							  }
											);//animate
					
					zommed=false;
					//
					}// else
					
					
				});//click vetrina any
					
					
					
					
					var startingHeight=$("#gallery").height();
					var lastScrollTop = 0;
					
					
								
					$(window).on("scroll", function(){//sto scrollando la finestra
											
														//$("#log").innerHTML=""+(startingHeight-$(document).scrollTop());
														$("#gallery").css("height",startingHeight-$(window).scrollTop());
														
														
												    });// on scroll
				
															
								});//document.ready
					

		</script>
	</head>
	<body>

		<div id="menu_header"><img id="header"  src="header.png"/>
		</div>

		<div id="container" style="height:4000px">
			<!--<div id="lente" style="width:200px;height:200px;background-color:#b0c4de;"></div>-->
			<div id="gallery">
				<img id="vetrina0" class="thumbVetrina" src="marvin1.jpg"/>
				<img id="vetrina1" class="thumbVetrina" src="marvin2.jpg"/>
				<img id="vetrina2" class="thumbVetrina" src="marvin3.jpg"/>
				<img id="vetrina3" class="thumbVetrina" src="marvin4.jpg"/>
				<img id="vetrina4" class="thumbVetrina" src="MarvinMartian.jpg"/>
				<img id="vetrina5" class="thumbVetrina" src="marvin5.jpg"/>
				<img id="vetrina6" class="thumbVetrina" src="MarvinMartian.jpg"/>
				<img id="vetrina7" class="thumbVetrina" src="MarvinMartian.jpg"/>
				<p id="left"></p>
				<p id="right"></p>
				<p id="top"></p>
			</div>
		<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
		<img width="1280px" src="chisiamo.png" />
				
		</div>
	</body>
</html>
